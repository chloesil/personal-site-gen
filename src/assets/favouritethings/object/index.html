<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>Favourite Things</title>
	<meta name="author" content="Chloe Silver" />
	<meta name="description" content="The study of value held in our most prized possessions" />
	<meta name="keywords"  content="design,creative,data,visualization,code,illustration,infographic,book,print,web" />
	<meta name="Resource-type" content="Document" />
	<meta name=viewport
  content="width=device-width, initial-scale=1.0, minimum-scale=0.5 maximum-scale=1.0">

	<link rel="stylesheet" href="../css/stylesheet.css" type="text/css" charset="utf-8" />
	<link rel="stylesheet" type="text/css" href="../css/styles.css" />
    <link rel="icon" 
      type="image/png" 
      href="../favicon.png">

	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script><script src="http://code.jquery.com/jquery-latest.min.js"></script>
	<script type="text/javascript" src="http://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
    <script type="text/javascript" src="../js/jquery.tipsy.js"></script>
    <link href="../css/tipsy.css" rel="stylesheet" type="text/css" />

</head>
<body>
	<nav><ul id="nav">
    <li class="parent">
        <div class="navcf">
          <img class="bef" src="../img/logo2.png">
          <img class="aft" src="../img/logo.png">
        </div>
        <ul class="sub-nav">
            <li><a href="http://chloesilver.ca/favouritethings#stories"><img class="lstories" src="../img/lstories.png"></a></li>
            <li><a href="http://chloesilver.ca/favouritethings#data"><img class="ldata" src="../img/ldata.png"></a></li>
        </ul>
    </li>
    </ul></nav>

	<section class="stories" id="stories">

		<div class="intros">
			<div class="medium">Object Relationships</div>
			<hr>
			This force layout explores the idea of value definition as it relates to the items themselves. Each node represents an object and its owner. The connections represent a similar definition of value.<br>
			You are encouraged to move the nodes around, and hover over them for a more in-depth look.
		</div>

		<div id="area1"></div>
   		<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
	    <script type="text/javascript">

	      var margin = {top: 0, right: 0, bottom: 30, left: 0},
		width = 940 - margin.left - margin.right,
		height = 400 - margin.top - margin.bottom;

	      //Original data
	      var dataset = {
	        nodes: [
	          { name: "ball" },  //0
	          { name: "bear" },  //1
	          { name: "bell" },  //2
	          { name: "bird" },  //3
	          { name: "block" },  //4
	          { name: "book" },  //5
	          { name: "bowl" },  //6
	          { name: "car" },  //7
	          { name: "chain" },  //8
	          { name: "cork" },  //9
	          { name: "eagle" },  //10
	          { name: "elk" },  //11
	          { name: "flower" },  //12
	          { name: "fox" },  //13
	          { name: "jacket" },  //14
	          { name: "lamp" },  //15
	          { name: "medal" },  //16
	          { name: "metro" },  //17
	          { name: "passport" },  //18
	          { name: "piano" },  //19
	          { name: "plate" },  //20
	          { name: "rooster" },  //21
	          { name: "rosie" },  //22
	          { name: "skate" },  //23
	          { name: "stamp" },  //24
	          { name: "sweater" },  //25
	          { name: "tape" },  //26
	          { name: "transfer" },  //27
	          { name: "vase" },  //28
	          { name: "wall" }  //29
	        ],
	        edges: [

          { source: 22, target: 9 },
          { source: 22, target: 29 },
          { source: 9, target: 29 },
          { source: 9, target: 7 },
          { source: 26, target: 7 },
          { source: 3, target: 7 },
          { source: 3, target: 27 },
          { source: 3, target: 18 },
          { source: 3, target: 13 },
          { source: 12, target: 18 },
          { source: 12, target: 13 },
          { source: 12, target: 1 },
          { source: 12, target: 0 },
          { source: 6, target: 0 },
          { source: 6, target: 25 },
          { source: 6, target: 4 },
          { source: 28, target: 4 },
          { source: 5, target: 4 },
          { source: 28, target: 14 },
          { source: 5, target: 14 },
          { source: 25, target: 14 },
          { source: 25, target: 17 },
          { source: 20, target: 17 },
          { source: 20, target: 2 },
          { source: 20, target: 23 },
          { source: 2, target: 23 },
          { source: 20, target: 8 },
          { source: 15, target: 8 },
          { source: 24, target: 8 },
          { source: 24, target: 10 },
          { source: 24, target: 11 },
          { source: 16, target: 10 },
          { source: 16, target: 11 },
          { source: 26, target: 11 },
          { source: 21, target: 11 },
          { source: 21, target: 19 },
          { source: 2, target: 19 },
        ]
      };

	      //Initialize a default force layout, using the nodes and edges in dataset
	      var force = d3.layout.force()
	                 .nodes(dataset.nodes)
	                 .links(dataset.edges)
	                 .size([width, height])
	                 .linkDistance([50])
	                 .charge([-100])
	                 .start();

	      var colors = d3.scale.ordinal()
	            .domain([
	              "ball", 
	              "bear", 
	              "bell", 
	              "bird", 
	              "block", 
	              "book", 
	              "bowl", 
	              "car", 
	              "chain",
	              "cork", 
	              "eagle", 
	              "elk", 
	              "flower", 
	              "fox", 
	              "jacket", 
	              "lamp", 
	              "medal", 
	              "metro",
	              "passport", 
	              "plate", 
	              "piano", 
	              "rooster", 
	              "rosie", 
	              "skate", 
	              "stamp", 
	              "sweater", 
	              "tape",
	              "transfer", 
	              "vase", 
	              "wall"
	              ])
	            .range([ 
	              "#2A2C77",
	              "#E6C1DB",
	              "#B0298A",
	              "#8F8762",
	              "#3FBCA2",
	              "#548F40",
	              "#E8C154",
	              "#BE7DB4",
	              "#696A6A",
	              "#BA8731",
	              "#B0B0B0",
	              "#898093",
	              "#F4800C",
	              "#84451E",
	              "#1D517B",
	              "#435083",
	              "#996548",
	              "#E1BE23",
	              "#9F2921",
	              "#533112",
	              "#B9717D",
	              "#561F0E",
	              "#9DCBE9",
	              "#A2C03A",
	              "#553E98",
	              "#C05927",
	              "#D22027",
	              "#107B94",
	              "#32B44A",
	              "#8310B2"
	              ]);

	      //Create SVG element
	      var svg = d3.select("#area1")
	            .append("svg")
	            .attr("width", width)
	            .attr("height", height);
	      
	      //Create edges as lines
	      var edges = svg.selectAll("line")
	        .data(dataset.edges)
	        .enter()
	        .append("line")
	        .style("stroke", "#ccc")
	        .style("stroke-width", 1);

	      //Create nodes as circles
	      var nodes = svg.selectAll("circle")
	        .data(dataset.nodes)
	        .enter()
	       .append("a")
	          .attr("xlink:href", function(d) {
	            return "http://www.chloesilver.ca/favouritethings/"+d.name;}
	          )
	        .append("circle")
	        .attr("r", 10)
	        .style("fill", function(d, i) {
	          return colors(i);
	        })
	        .call(force.drag)
	        .on("mouseover", function(d) {
		    $(this).tipsy({ 
		        gravity: 'w', 
		        html: true, 
		        title: function() {
		            return "<img src=../img/icons/" + d.name + ".png class='icon'>";
		        }
		    })
		});
	        
	      //Every time the simulation "ticks", this will be called
	      force.on("tick", function() {

	        edges.attr("x1", function(d) { return d.source.x; })
	           .attr("y1", function(d) { return d.source.y; })
	           .attr("x2", function(d) { return d.target.x; })
	           .attr("y2", function(d) { return d.target.y; });
	      
	        nodes.attr("cx", function(d) { return d.x; })
	           .attr("cy", function(d) { return d.y; });
	      });
	    </script>

		<a href="../object"><div id="contain">
		    <div id="dummy"></div>
		    <div class="element object">
		    </div>
		</div></a>

		<a href="../action"><div id="contain">
		    <div id="dummy"></div>
		    <div class="element action">
		    </div>
		</div></a>

		<a href="../location"><div id="contain">
		    <div id="dummy"></div>
		    <div class="element location">
		    </div>
		</div></a>

		<a href="../time"><div id="contain">
		    <div id="dummy"></div>
		    <div class="element time">
		    </div>
		</div></a>

		<a href="../value"><div id="contain">
		    <div id="dummy"></div>
		    <div class="element svalue">
		    </div>
		</div></a>
		
	</section>
	<footer>
		<p>all content created by chloe silver 2014-2015</p>
  </footer>
  <script type="text/javascript">
    $(document).ready(function() {
      $('.parent').click(function() {
          $('.sub-nav').toggleClass('visible');
      });
  });

  </script>
</body>
</html>